# Writerside æ¸¬è©¦ç­–ç•¥æŒ‡å—ï¼ˆMac M4 / ARM æ¶æ§‹ï¼‰

## ğŸš¨ é‡è¦ï¼šARM æ¶æ§‹é™åˆ¶

ç¶“éå¯¦éš›æ¸¬è©¦ï¼ŒJetBrains çš„ `writerside-builder` Docker image ç›®å‰åªæ”¯æ´ **linux/amd64** æ¶æ§‹ã€‚

### åœ¨ Mac M4 (ARM64) ä¸Šçš„å•é¡Œ

ç•¶åœ¨ Apple Silicon (M1/M2/M3/M4) ä¸ŠåŸ·è¡Œæ™‚ï¼š

- âš ï¸ Docker æœƒä½¿ç”¨ Rosetta 2 æ¨¡æ“¬ x86_64 æ¶æ§‹
- ğŸŒ **åŸ·è¡Œé€Ÿåº¦æ¥µæ…¢**ï¼ˆæ¸¬è©¦é¡¯ç¤ºå¯èƒ½éœ€è¦ 10-30 åˆ†é˜ä»¥ä¸Šï¼‰
- ğŸ’» æ¶ˆè€—å¤§é‡ CPU å’Œè¨˜æ†¶é«”è³‡æº
- â±ï¸ å¯èƒ½æœƒå‡ºç¾è¶…æ™‚æˆ–è¨˜æ†¶é«”ä¸è¶³çš„å•é¡Œ
- âŒ ä¸é©åˆæ—¥å¸¸é–‹ç™¼ä½¿ç”¨

### å¯¦æ¸¬çµæœ

```
æ¸¬è©¦ç’°å¢ƒï¼šMac M4, 16GB RAM
Docker Image: jetbrains/writerside-builder:2025.04.8412
æ¸¬è©¦æ™‚é–“ï¼šè¶…é 10 åˆ†é˜ä»åœ¨é‹è¡Œï¼ˆæœ€çµ‚è¢«ä¸­æ­¢ï¼‰
```

---

## âœ… æ¨è–¦æ¸¬è©¦ç­–ç•¥

### æ–¹æ¡ˆä¸€ï¼šä½¿ç”¨ GitHub Actionsï¼ˆå¼·çƒˆæ¨è–¦ï¼‰

é€™æ˜¯**æœ€å¿«é€Ÿã€æœ€å¯é **çš„æ¸¬è©¦æ–¹å¼ï¼š

#### å„ªé»
- âš¡ **é€Ÿåº¦å¿«**ï¼šç´„ 2-3 åˆ†é˜å®Œæˆ
- ğŸ¯ **æº–ç¢º**ï¼šåŸç”Ÿ linux/amd64 ç’°å¢ƒï¼Œç„¡éœ€æ¨¡æ“¬
- ğŸ”„ **è‡ªå‹•åŒ–**ï¼šæ¨é€å³æ¸¬è©¦
- ğŸ“Š **å®Œæ•´å ±å‘Š**ï¼šè‡ªå‹•ç”Ÿæˆ report.json
- ğŸ’° **å…è²»**ï¼šGitHub Actions å°å…¬é–‹å°ˆæ¡ˆå…è²»

#### ä½¿ç”¨æ­¥é©Ÿ

1. **æ¨é€ç¨‹å¼ç¢¼åˆ° GitHub**ï¼š
   ```bash
   git add .
   git commit -m "docs: æ›´æ–°æ–‡æª”"
   git push origin master
   ```

2. **æŸ¥çœ‹æ¸¬è©¦çµæœ**ï¼š
   ```bash
   # åœ¨ç€è¦½å™¨ä¸­é–‹å•Ÿ Actions é é¢
   open https://github.com/jakeuj/writerside/actions
   
   # æˆ–ä½¿ç”¨ GitHub CLI
   gh run list --limit 5
   gh run view --web
   ```

3. **å¦‚æœæ¸¬è©¦å¤±æ•—ï¼Œä¸‹è¼‰éŒ¯èª¤å ±å‘Š**ï¼š
   ```bash
   # ä½¿ç”¨ GitHub CLI ä¸‹è¼‰ artifacts
   gh run download --name report.json
   
   # æŸ¥çœ‹éŒ¯èª¤
   cat report.json | jq '.errors'
   ```

4. **ä¿®å¾©éŒ¯èª¤å¾Œå†æ¬¡æ¨é€**ï¼š
   ```bash
   # ä¿®å¾©éŒ¯èª¤...
   git add .
   git commit -m "fix: ä¿®æ­£ Writerside éŒ¯èª¤"
   git push origin master
   ```

#### å·¥ä½œæµç¨‹ç¯„ä¾‹

```bash
# 1. ä¿®æ”¹æ–‡æª”
vim Writerside/topics/some-topic.md

# 2. æäº¤ä¸¦æ¨é€
git add .
git commit -m "docs: æ›´æ–°æŸä¸»é¡Œ"
git push origin master

# 3. ç­‰å¾… 2-3 åˆ†é˜ï¼ŒæŸ¥çœ‹çµæœ
gh run view --web

# 4. å¦‚æœå¤±æ•—ï¼Œä¸‹è¼‰å ±å‘Šä¸¦ä¿®å¾©
gh run download --name report.json
cat report.json | jq '.errors[] | "[\(.code)] \(.file):\(.line) - \(.message)"'

# 5. ä¿®å¾©å¾Œå†æ¬¡æ¨é€
# ... é‡è¤‡æ­¥é©Ÿ 1-3
```

---

### æ–¹æ¡ˆäºŒï¼šæœ¬åœ°æ¸¬è©¦ï¼ˆåƒ…ç·Šæ€¥æƒ…æ³ï¼‰

**âš ï¸ è­¦å‘Š**ï¼šæœ¬åœ°æ¸¬è©¦åœ¨ ARM æ¶æ§‹ä¸Šéå¸¸æ…¢ï¼Œåƒ…åœ¨ä»¥ä¸‹æƒ…æ³ä½¿ç”¨ï¼š

- ğŸ”Œ é›¢ç·šå·¥ä½œï¼Œç„¡æ³•é€£æ¥ GitHub
- ğŸš¨ ç·Šæ€¥æƒ…æ³ï¼Œéœ€è¦ç«‹å³é©—è­‰å–®ä¸€ä¿®å¾©
- ğŸ§ª æ¸¬è©¦è…³æœ¬æœ¬èº«çš„åŠŸèƒ½

#### ä½¿ç”¨æ–¹å¼

```bash
# åŸ·è¡Œæ¸¬è©¦ï¼ˆéœ€è¦ 10-30 åˆ†é˜ï¼‰
./check-writerside.sh

# æŸ¥çœ‹çµæœ
cat artifacts/report.json | jq
```

#### æ³¨æ„äº‹é …

1. **é ç•™å……è¶³æ™‚é–“**ï¼šè‡³å°‘ 30 åˆ†é˜
2. **é¿å…åŒæ™‚åŸ·è¡Œå…¶ä»–ä»»å‹™**ï¼šæœƒæ¶ˆè€—å¤§é‡è³‡æº
3. **ç¢ºä¿é›»æºå……è¶³**ï¼šé¿å…ç­†é›»é€²å…¥çœé›»æ¨¡å¼
4. **ç›£æ§é€²åº¦**ï¼šå¯ä»¥æŸ¥çœ‹ Docker Desktop çš„ CPU ä½¿ç”¨ç‡

---

## ğŸ”§ å¸¸è¦‹éŒ¯èª¤ä¿®å¾©æŒ‡å—

### MRK002: Source file syntax is corrupted

**åŸå› **ï¼šæœªé–‰åˆçš„ XML/HTML æ¨™ç±¤ï¼Œä¾‹å¦‚ `<T>`ã€`<int>` è¢«èª¤èªç‚º XMLã€‚

**ä¿®å¾©æ–¹å¼**ï¼š

```markdown
# âŒ éŒ¯èª¤å¯«æ³•
è¿”å› IQueryable<T>

# âœ… æ­£ç¢ºå¯«æ³•ï¼ˆåœ¨æ–‡å­—ä¸­ï¼‰
è¿”å› `IQueryable<T>`

# âœ… æ­£ç¢ºå¯«æ³•ï¼ˆåœ¨ç¨‹å¼ç¢¼å€å¡Šä¸­ï¼‰
```csharp
IQueryable<T> GetAll()
```
```

**è‡ªå‹•ä¿®å¾©**ï¼š
```bash
./fix-writerside-errors.sh
```

### MRK003: Element ID is not unique

**åŸå› **ï¼šå¤šå€‹æ¨™é¡Œç”¢ç”Ÿäº†ç›¸åŒçš„ IDã€‚

**ä¿®å¾©æ–¹å¼**ï¼š

```markdown
# âŒ éŒ¯èª¤å¯«æ³•
### DTO
### DTO

# âœ… æ­£ç¢ºå¯«æ³•
### GetAuthorListDto - ç²å–ä½œè€…åˆ—è¡¨
### CreateAuthorDto - å‰µå»ºä½œè€…
```

### CTT004: Undefined variable

**åŸå› **ï¼šURL ä¸­çš„ URL ç·¨ç¢¼å­—ç¬¦ï¼ˆå¦‚ `%E6%B7%BB%E5%8A%A0`ï¼‰è¢«èª¤èªç‚ºè®Šæ•¸ã€‚

**ä¿®å¾©æ–¹å¼**ï¼š

```markdown
# âŒ éŒ¯èª¤å¯«æ³•
<https://docs.abp.io/zh-Hans/abp/latest/Tutorials/Part-1#%E6%B7%BB%E5%8A%A0>

# âœ… æ–¹æ³• 1: ä½¿ç”¨ Markdown é€£çµèªæ³•
[ABP å®˜æ–¹æ•™å­¸](https://docs.abp.io/zh-Hans/abp/latest/Tutorials/Part-1#%E6%B7%BB%E5%8A%A0)

# âœ… æ–¹æ³• 2: ä½¿ç”¨ ignore-vars å±¬æ€§
<https://docs.abp.io/zh-Hans/abp/latest/Tutorials/Part-1#%E6%B7%BB%E5%8A%A0>
{ignore-vars="true"}
```

---

## ğŸ“Š æ¸¬è©¦çµæœå°æ¯”

| æ¸¬è©¦æ–¹å¼ | åŸ·è¡Œæ™‚é–“ | CPU ä½¿ç”¨ç‡ | å¯é æ€§ | æ¨è–¦åº¦ |
|---------|---------|-----------|--------|--------|
| GitHub Actions | 2-3 åˆ†é˜ | N/A (é ç«¯) | â­â­â­â­â­ | âœ… å¼·çƒˆæ¨è–¦ |
| æœ¬åœ°æ¸¬è©¦ (ARM) | 10-30+ åˆ†é˜ | 80-100% | â­â­â­ | âš ï¸ åƒ…ç·Šæ€¥æƒ…æ³ |

---

## ğŸ¯ æœ€ä½³å¯¦è¸

### æ—¥å¸¸é–‹ç™¼æµç¨‹

1. **æ‰¹æ¬¡ä¿®æ”¹**ï¼šç´¯ç©å¤šå€‹æ–‡æª”ä¿®æ”¹å¾Œä¸€æ¬¡æ€§æ¨é€
2. **ä½¿ç”¨ GitHub Actions**ï¼šè®“ CI/CD è‡ªå‹•æ¸¬è©¦
3. **å¿«é€Ÿè¿­ä»£**ï¼šæ ¹æ“šæ¸¬è©¦çµæœå¿«é€Ÿä¿®å¾©ä¸¦å†æ¬¡æ¨é€
4. **æœ¬åœ°é è¦½**ï¼šä½¿ç”¨ Writerside IDE é è¦½æ–‡æª”å¤–è§€ï¼ˆä¸éœ€è¦å®Œæ•´æ¸¬è©¦ï¼‰

### ç·Šæ€¥ä¿®å¾©æµç¨‹

å¦‚æœå¿…é ˆä½¿ç”¨æœ¬åœ°æ¸¬è©¦ï¼š

1. **ç¢ºèªå•é¡Œç¯„åœ**ï¼šåªæ¸¬è©¦ä¿®æ”¹çš„æª”æ¡ˆ
2. **ä½¿ç”¨è‡ªå‹•ä¿®å¾©è…³æœ¬**ï¼š`./fix-writerside-errors.sh`
3. **é©—è­‰ä¿®å¾©**ï¼šåŸ·è¡Œ `./check-writerside.sh`ï¼ˆé ç•™ 30 åˆ†é˜ï¼‰
4. **æ¨é€åˆ° GitHub**ï¼šæœ€çµ‚é‚„æ˜¯è¦é€šé GitHub Actions é©—è­‰

---

## ğŸ”— ç›¸é—œè³‡æº

- [GitHub Actions å·¥ä½œæµç¨‹](.github/workflows/deploy.yml)
- [æœ¬åœ°æ¸¬è©¦è…³æœ¬](./check-writerside.sh)
- [è‡ªå‹•ä¿®å¾©è…³æœ¬](./fix-writerside-errors.sh)
- [å®Œæ•´å·¥ä½œæµç¨‹è…³æœ¬](./writerside-workflow.sh)
- [JetBrains å®˜æ–¹æ–‡æª”](https://www.jetbrains.com/help/writerside/build-with-docker.html)
- [å°ˆæ¡ˆ GitHub Actions](https://github.com/jakeuj/writerside/actions)
- [å°ˆæ¡ˆ GitHub Pages](https://jakeuj.github.io/writerside/)

---

## ğŸ’¡ ç¸½çµ

**å°æ–¼ Mac M4 ä½¿ç”¨è€…**ï¼š

1. âœ… **å„ªå…ˆä½¿ç”¨ GitHub Actions** - å¿«é€Ÿã€å¯é ã€å…è²»
2. âš ï¸ **é¿å…æœ¬åœ°æ¸¬è©¦** - é™¤éçµ•å°å¿…è¦
3. ğŸ”„ **æ“æŠ±å¿«é€Ÿè¿­ä»£** - æ¨é€ â†’ æ¸¬è©¦ â†’ ä¿®å¾© â†’ å†æ¨é€
4. ğŸ“ **ä½¿ç”¨ IDE é è¦½** - Writerside IDE å¯ä»¥å³æ™‚é è¦½æ–‡æª”å¤–è§€

**è¨˜ä½**ï¼šåœ¨ ARM æ¶æ§‹ä¸Šï¼ŒGitHub Actions æ¯”æœ¬åœ°æ¸¬è©¦å¿« **5-10 å€**ï¼

